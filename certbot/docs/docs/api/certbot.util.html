
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>certbot.util module &#8212; Certbot 1.26.0.dev0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="certbot.reverter module" href="certbot.reverter.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-certbot.util">
<span id="certbot-util-module"></span><h1>certbot.util module<a class="headerlink" href="#module-certbot.util" title="Permalink to this headline">¶</a></h1>
<p>Utilities for all Certbot.</p>
<dl class="class">
<dt id="certbot.util.Key">
<em class="property">class </em><code class="descclassname">certbot.util.</code><code class="descname">Key</code><span class="sig-paren">(</span><em>file</em>, <em>pem</em><span class="sig-paren">)</span><a class="headerlink" href="#certbot.util.Key" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="attribute">
<dt id="certbot.util.Key.file">
<code class="descname">file</code><a class="headerlink" href="#certbot.util.Key.file" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="certbot.util.Key.pem">
<code class="descname">pem</code><a class="headerlink" href="#certbot.util.Key.pem" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="certbot.util.CSR">
<em class="property">class </em><code class="descclassname">certbot.util.</code><code class="descname">CSR</code><span class="sig-paren">(</span><em>file</em>, <em>data</em>, <em>form</em><span class="sig-paren">)</span><a class="headerlink" href="#certbot.util.CSR" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="attribute">
<dt id="certbot.util.CSR.data">
<code class="descname">data</code><a class="headerlink" href="#certbot.util.CSR.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="certbot.util.CSR.file">
<code class="descname">file</code><a class="headerlink" href="#certbot.util.CSR.file" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="certbot.util.CSR.form">
<code class="descname">form</code><a class="headerlink" href="#certbot.util.CSR.form" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="certbot.util.env_no_snap_for_external_calls">
<code class="descclassname">certbot.util.</code><code class="descname">env_no_snap_for_external_calls</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Dict[str, str]<a class="reference internal" href="../_modules/certbot/util.html#env_no_snap_for_external_calls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.env_no_snap_for_external_calls" title="Permalink to this definition">¶</a></dt>
<dd><p>When Certbot is run inside a Snap, certain environment variables
are modified. But Certbot sometimes calls out to external programs,
since it uses classic confinement. When we do that, we must modify
the env to remove our modifications so it will use the system’s
libraries, since they may be incompatible with the versions of
libraries included in the Snap. For example, apachectl, Nginx, and
anything run from inside a hook should call this function and pass
the results into the <code class="docutils literal notranslate"><span class="pre">env</span></code> argument of <code class="docutils literal notranslate"><span class="pre">subprocess.Popen</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A modified copy of os.environ ready to pass to Popen</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.run_script">
<code class="descclassname">certbot.util.</code><code class="descname">run_script</code><span class="sig-paren">(</span><em>params: List[str], log: Callable[[str], None] = &lt;bound method Logger.error of &lt;Logger certbot.util (WARNING)&gt;&gt;</em><span class="sig-paren">)</span> &#x2192; Tuple[str, str]<a class="reference internal" href="../_modules/certbot/util.html#run_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.run_script" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the script with the given params.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – List of parameters to pass to subprocess.run</li>
<li><strong>log</strong> (<em>callable</em>) – Logger method to use for errors</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.exe_exists">
<code class="descclassname">certbot.util.</code><code class="descname">exe_exists</code><span class="sig-paren">(</span><em>exe: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../_modules/certbot/util.html#exe_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.exe_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether path/name refers to an executable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exe</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Executable path or name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">If exe is a valid executable</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.lock_dir_until_exit">
<code class="descclassname">certbot.util.</code><code class="descname">lock_dir_until_exit</code><span class="sig-paren">(</span><em>dir_path: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/certbot/util.html#lock_dir_until_exit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.lock_dir_until_exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Lock the directory at dir_path until program exit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dir_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path to directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="certbot.errors.html#certbot.errors.LockError" title="certbot.errors.LockError"><strong>errors.LockError</strong></a> – if the lock is held by another process</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.set_up_core_dir">
<code class="descclassname">certbot.util.</code><code class="descname">set_up_core_dir</code><span class="sig-paren">(</span><em>directory: str</em>, <em>mode: int</em>, <em>strict: bool</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/certbot/util.html#set_up_core_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.set_up_core_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure directory exists with proper permissions and is locked.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Path to a directory.</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Directory mode.</li>
<li><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – require directory to be owned by current user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="certbot.errors.html#certbot.errors.LockError" title="certbot.errors.LockError"><strong>errors.LockError</strong></a> – if the directory cannot be locked</li>
<li><a class="reference internal" href="certbot.errors.html#certbot.errors.Error" title="certbot.errors.Error"><strong>errors.Error</strong></a> – if the directory cannot be made or verified</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.make_or_verify_dir">
<code class="descclassname">certbot.util.</code><code class="descname">make_or_verify_dir</code><span class="sig-paren">(</span><em>directory: str</em>, <em>mode: int = 493</em>, <em>strict: bool = False</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/certbot/util.html#make_or_verify_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.make_or_verify_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure directory exists with proper permissions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Path to a directory.</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Directory mode.</li>
<li><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – require directory to be owned by current user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="certbot.errors.html#certbot.errors.Error" title="certbot.errors.Error"><strong>errors.Error</strong></a> – if a directory already exists,
but has wrong permissions or owner</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.10)"><strong>OSError</strong></a> – if invalid or inaccessible file names and
paths, or other arguments that have the correct type,
but are not accepted by the operating system.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.safe_open">
<code class="descclassname">certbot.util.</code><code class="descname">safe_open</code><span class="sig-paren">(</span><em>path: str</em>, <em>mode: str = 'w'</em>, <em>chmod: Optional[int] = None</em><span class="sig-paren">)</span> &#x2192; IO<a class="reference internal" href="../_modules/certbot/util.html#safe_open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.safe_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Safely open a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Path to a file.</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Same os <code class="xref py py-obj docutils literal notranslate"><span class="pre">mode</span></code> for <a class="reference external" href="https://docs.python.org/3/library/functions.html#open" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">open</span></code></a>.</li>
<li><strong>chmod</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Same as <code class="xref py py-obj docutils literal notranslate"><span class="pre">mode</span></code> for <code class="xref py py-obj docutils literal notranslate"><span class="pre">filesystem.open</span></code>, uses Python defaults
if <code class="docutils literal notranslate"><span class="pre">None</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.unique_file">
<code class="descclassname">certbot.util.</code><code class="descname">unique_file</code><span class="sig-paren">(</span><em>path: str</em>, <em>chmod: int = 511</em>, <em>mode: str = 'w'</em><span class="sig-paren">)</span> &#x2192; Tuple[IO, str]<a class="reference internal" href="../_modules/certbot/util.html#unique_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.unique_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Safely finds a unique file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path/filename.ext</li>
<li><strong>chmod</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – File mode</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Open mode</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">tuple of file object and file name</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.unique_lineage_name">
<code class="descclassname">certbot.util.</code><code class="descname">unique_lineage_name</code><span class="sig-paren">(</span><em>path: str</em>, <em>filename: str</em>, <em>chmod: int = 420</em>, <em>mode: str = 'w'</em><span class="sig-paren">)</span> &#x2192; Tuple[IO, str]<a class="reference internal" href="../_modules/certbot/util.html#unique_lineage_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.unique_lineage_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Safely finds a unique file using lineage convention.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – directory path</li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – proposed filename</li>
<li><strong>chmod</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – file mode</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – open mode</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">tuple of file object and file name (which may be modified
from the requested one by appending digits to ensure uniqueness)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.10)"><strong>OSError</strong></a> – if writing files fails for an unanticipated reason,
such as a full disk or a lack of permission to write to
specified location.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.safely_remove">
<code class="descclassname">certbot.util.</code><code class="descname">safely_remove</code><span class="sig-paren">(</span><em>path: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/certbot/util.html#safely_remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.safely_remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a file that may not exist.</p>
</dd></dl>

<dl class="function">
<dt id="certbot.util.get_filtered_names">
<code class="descclassname">certbot.util.</code><code class="descname">get_filtered_names</code><span class="sig-paren">(</span><em>all_names: Set[str]</em><span class="sig-paren">)</span> &#x2192; Set[str]<a class="reference internal" href="../_modules/certbot/util.html#get_filtered_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.get_filtered_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes names that aren’t considered valid by Let’s Encrypt.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>all_names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)"><em>set</em></a>) – all names found in the configuration</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">all found names that are considered valid by LE</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)">set</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.get_os_info">
<code class="descclassname">certbot.util.</code><code class="descname">get_os_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Tuple[str, str]<a class="reference internal" href="../_modules/certbot/util.html#get_os_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.get_os_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get OS name and version</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(os_name, os_version)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.get_os_info_ua">
<code class="descclassname">certbot.util.</code><code class="descname">get_os_info_ua</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../_modules/certbot/util.html#get_os_info_ua"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.get_os_info_ua" title="Permalink to this definition">¶</a></dt>
<dd><p>Get OS name and version string for User Agent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">os_ua</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.get_systemd_os_like">
<code class="descclassname">certbot.util.</code><code class="descname">get_systemd_os_like</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference internal" href="../_modules/certbot/util.html#get_systemd_os_like"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.get_systemd_os_like" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of strings that indicate the distribution likeness to
other distributions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of distribution acronyms</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.get_var_from_file">
<code class="descclassname">certbot.util.</code><code class="descname">get_var_from_file</code><span class="sig-paren">(</span><em>varname: str</em>, <em>filepath: str = '/etc/os-release'</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../_modules/certbot/util.html#get_var_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.get_var_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Get single value from a file formatted like systemd /etc/os-release</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>varname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of variable to fetch</li>
<li><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – File path of os-release file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">requested value</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.get_python_os_info">
<code class="descclassname">certbot.util.</code><code class="descname">get_python_os_info</code><span class="sig-paren">(</span><em>pretty: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, str]<a class="reference internal" href="../_modules/certbot/util.html#get_python_os_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.get_python_os_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Operating System type/distribution and major version
using python platform module</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pretty</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – If the returned OS name should be in longer (pretty) form</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(os_name, os_version)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.safe_email">
<code class="descclassname">certbot.util.</code><code class="descname">safe_email</code><span class="sig-paren">(</span><em>email: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../_modules/certbot/util.html#safe_email"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.safe_email" title="Permalink to this definition">¶</a></dt>
<dd><p>Scrub email address before using it.</p>
</dd></dl>

<dl class="class">
<dt id="certbot.util.DeprecatedArgumentAction">
<em class="property">class </em><code class="descclassname">certbot.util.</code><code class="descname">DeprecatedArgumentAction</code><span class="sig-paren">(</span><em>option_strings</em>, <em>dest</em>, <em>nargs=None</em>, <em>const=None</em>, <em>default=None</em>, <em>type=None</em>, <em>choices=None</em>, <em>required=False</em>, <em>help=None</em>, <em>metavar=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/certbot/util.html#DeprecatedArgumentAction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.DeprecatedArgumentAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/argparse.html#argparse.Action" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.Action</span></code></a></p>
<p>Action to log a warning when an argument is used.</p>
</dd></dl>

<dl class="function">
<dt id="certbot.util.add_deprecated_argument">
<code class="descclassname">certbot.util.</code><code class="descname">add_deprecated_argument</code><span class="sig-paren">(</span><em>add_argument: Callable[[...], None], argument_name: str, nargs: Union[str, int]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/certbot/util.html#add_deprecated_argument"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.add_deprecated_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a deprecated argument with the name argument_name.</p>
<p>Deprecated arguments are not shown in the help. If they are used on
the command line, a warning is shown stating that the argument is
deprecated and no other action is taken.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>add_argument</strong> (<em>callable</em>) – Function that adds arguments to an
argument parser/group.</li>
<li><strong>argument_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of deprecated argument.</li>
<li><strong>nargs</strong> – Value for nargs when adding the argument to argparse.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.enforce_le_validity">
<code class="descclassname">certbot.util.</code><code class="descname">enforce_le_validity</code><span class="sig-paren">(</span><em>domain: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../_modules/certbot/util.html#enforce_le_validity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.enforce_le_validity" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that Let’s Encrypt will consider domain to be valid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – FQDN to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The domain cast to <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, with ASCII-only contents</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="certbot.errors.html#certbot.errors.ConfigurationError" title="certbot.errors.ConfigurationError"><strong>ConfigurationError</strong></a> – for invalid domains and cases where Let’s
Encrypt currently will not issue certificates</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.enforce_domain_sanity">
<code class="descclassname">certbot.util.</code><code class="descname">enforce_domain_sanity</code><span class="sig-paren">(</span><em>domain: Union[str, bytes]</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../_modules/certbot/util.html#enforce_domain_sanity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.enforce_domain_sanity" title="Permalink to this definition">¶</a></dt>
<dd><p>Method which validates domain value and errors out if
the requirements are not met.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code></a>) – Domain to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="certbot.errors.html#certbot.errors.ConfigurationError" title="certbot.errors.ConfigurationError"><strong>ConfigurationError</strong></a> – for invalid domains and cases where Let’s
Encrypt currently will not issue certificates</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The domain cast to <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, with ASCII-only contents</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.is_ipaddress">
<code class="descclassname">certbot.util.</code><code class="descname">is_ipaddress</code><span class="sig-paren">(</span><em>address: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../_modules/certbot/util.html#is_ipaddress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.is_ipaddress" title="Permalink to this definition">¶</a></dt>
<dd><p>Is given address string form of IP(v4 or v6) address?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>address</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – address to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if address is valid IP address, otherwise return False.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.is_wildcard_domain">
<code class="descclassname">certbot.util.</code><code class="descname">is_wildcard_domain</code><span class="sig-paren">(</span><em>domain: Union[str, bytes]</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../_modules/certbot/util.html#is_wildcard_domain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.is_wildcard_domain" title="Permalink to this definition">¶</a></dt>
<dd><p>“Is domain a wildcard domain?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – domain to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if domain is a wildcard, otherwise, False</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.get_strict_version">
<code class="descclassname">certbot.util.</code><code class="descname">get_strict_version</code><span class="sig-paren">(</span><em>normalized: str</em><span class="sig-paren">)</span> &#x2192; distutils.version.StrictVersion<a class="reference internal" href="../_modules/certbot/util.html#get_strict_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.get_strict_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a normalized version to a strict version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>normalized</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – normalized version string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An equivalent strict version</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">distutils.version.StrictVersion</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.is_staging">
<code class="descclassname">certbot.util.</code><code class="descname">is_staging</code><span class="sig-paren">(</span><em>srv: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../_modules/certbot/util.html#is_staging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.is_staging" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether a given ACME server is a known test / staging server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>srv</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – the URI for the ACME server</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True iff srv is a known test / staging server</td>
</tr>
<tr class="field-odd field"><th class="field-name">Rtype bool:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.atexit_register">
<code class="descclassname">certbot.util.</code><code class="descname">atexit_register</code><span class="sig-paren">(</span><em>func: Callable</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/certbot/util.html#atexit_register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.atexit_register" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets func to be called before the program exits.</p>
<p>Special care is taken to ensure func is only called when the process
that first imports this module exits rather than any child processes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) – function to be called in case of an error</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="certbot.util.parse_loose_version">
<code class="descclassname">certbot.util.</code><code class="descname">parse_loose_version</code><span class="sig-paren">(</span><em>version_string: str</em><span class="sig-paren">)</span> &#x2192; List[Union[int, str]]<a class="reference internal" href="../_modules/certbot/util.html#parse_loose_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#certbot.util.parse_loose_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a version string into its components.</p>
<p>This code and the returned tuple is based on the now deprecated
distutils.version.LooseVersion class from the Python standard library.
Two LooseVersion classes and two lists as returned by this function should
compare in the same way. See
<a class="reference external" href="https://github.com/python/cpython/blob/v3.10.0/Lib/distutils/version.py#L205-L347">https://github.com/python/cpython/blob/v3.10.0/Lib/distutils/version.py#L205-L347</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>version_string</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – version string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of parsed version string components</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Certbot</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../what.html">What is a Certificate?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Get Certbot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packaging.html">Packaging Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compatibility.html">Backwards Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">Resources</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Documentation</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html">API Documentation</a><ul>
  <li><a href="certbot.html">certbot package</a><ul>
      <li>Previous: <a href="certbot.reverter.html" title="previous chapter">certbot.reverter module</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="../_sources/api/certbot.util.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>